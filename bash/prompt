# ----------------------------------------------------
#   Colors
# ----------------------------------------------------

BLACK=0
RED=1
GREEN=2
YELLOW=3
BLUE=4
MAGENTA=5
CYAN=6
WHITE=7

# ----------------------------------------------------
#   Prompt
# ----------------------------------------------------

# Customize prompt
PS1='$(tput setaf $CYAN)$(current_working_directory)$(branch_if_repo) $(tput sgr0) \n\360\237\224\247  '

PROMPT_COMMAND+="; _add_prompt_headroom; _make_prompt_dirty"

_make_prompt_dirty() {
  if [[ $PROMPT_DIRTY != true ]]
  then
    export PROMPT_DIRTY=true
  fi
}

_add_prompt_headroom() {
  local LAST_BASH_COMMAND=$(fc -ln -1 | tr -d ' \t\n\r\f')
  if [[ $PROMPT_DIRTY ]]
  then
    if [[ "c" != $LAST_BASH_COMMAND && "clear" != $LAST_BASH_COMMAND ]]
    then
      printf "\n"
    fi
  fi
}

# ----------------------------------------------------
#   Behavior
# ----------------------------------------------------

# Tab completion case insensitivity
bind "set completion-ignore-case on"
